knitr::opts_chunk$set(echo = TRUE)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
dim(fisheries)
names(fisheries)
fisher <- clean_names(fisheries)
library(tidyverse)
library(janitor)
library(skimr)
fisher <- clean_names(fisheries)
fisher %>%
group_by(country, common_name) %>%
summarize(n_nas = sum(across(contains("19"), is.na)))
fisher <- clean_names(fisheries)
fisher <- clean_names(fisheries)
names(fisher)
fisheries_tidy <- fisher %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
View(fisheries_tidy)
fisheries_tidy %>%
summury(country)
fisheries_tidy %>%
summarise(country)
fisheries_tidy %>%
count(country)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisher_tidy <- fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisher_tidy <- fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisher_tidy
fisher_tidy %>%
group_by(asfis_species_name) %>%
summarize(n=n(), .groups= 'keep')
fisher_tidy %>%
select(country, common_name, catch) %>%
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
select(country, catch) %>%
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
select(country, catch) %>%
arrange(catch) %>%
slice(1)
fisher_tidy %>%
select(country, catch) %>%
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
select(country, catch, year) %>%
filter(year == 2000)
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
select(country, catch, year) %>%
filter(year == 2000)
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
filter(year == 2000)
select(country, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
filter(year == 2000) %>%
select(country, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
filter(year == 2000) %>%
select(country, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
filter(between(year, 1990, 2000) | isscaap_taxonomic_group == "sardines")
select(country, isscaap_taxonomic_group, catch, year)
fisher_tidy %>%
filter(between(year, 1990, 2000) | isscaap_taxonomic_group == "sardines") %>%
select(country, isscaap_taxonomic_group, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
filter(between(year, 2008, 2012) | isscaap_taxonomic_group == "cephalopods") %>%
select(country, isscaap_taxonomic_group, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisher_tidy %>%
filter(between(year, 2008, 2012) | common_name == "cephalopods") %>%
select(country, common_name, isscaap_taxonomic_group, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
names(fisher_tidy)
names(fisheries_tidy)
fisheries_tidy %>%
filter(between(year, 1990, 2000) | isscaap_taxonomic_group == "sardines") %>%
select(country, isscaap_taxonomic_group, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter(between(year, 2008, 2012) | common_name == "cephalopods") %>%
select(country, common_name, isscaap_taxonomic_group, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter(between(year, 2008, 2012) | common_name == "Cephalopods nei") %>%
select(country, common_name, isscaap_taxonomic_group, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
View(fisher)
View(fisheries_tidy)
View(fisher_tidy)
fisheries_tidy %>%
filter(between(year, 2008, 2012) | asfis_species_number == "Cephalopoda") %>%
select(country, common_name, asfis_species_number, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter(between(year, 2008, 2012) | asfis_species_name == "Cephalopoda") %>%
select(country, common_name, asfis_species_name, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter(between(year, 2008, 2012) | asfis_species_name == "Cephalopoda") %>%
select(country, common_name, asfis_species_name, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter(between(year, 1990, 2000) | asfis_species_name == "Sardina pilchardus") %>%
select(country, asfis_species_name, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter((year >= 1990 & year <= 2000) | asfis_species_name == "Sardina pilchardus") %>%
select(country, asfis_species_name, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter(between(year, 2008, 2012) & asfis_species_name == "Cephalopoda") %>%
select(country, common_name, asfis_species_name, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter((year >= 1990 & year <= 2000) & asfis_species_name == "Sardina pilchardus") %>%
select(country, asfis_species_name, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter(between(year, 2008, 2012)) %>%
select(country, common_name, asfis_species_name, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
filter(between(year, 2008, 2012) & asfis_species_name != "Osteichthyes") %>%
select(country, common_name, asfis_species_name, catch, year) %>%
arrange(desc(catch)) %>%
slice(1)
data %>%
group_by(species_name) %>%
summarize(mean_catch_tons = mean(catch_tons, na.rm = TRUE))
data %>%
group_by(asfis_species_name) %>%
summarize(mean_catch_tons = mean(catch, na.rm = TRUE))
data %>%
group_by(asfis_species_name) %>%
summarize(mean_catch_tons = mean(catch, na.rm = TRUE))
library(dplyr)
data %>%
group_by(asfis_species_name) %>%
summarize(mean_catch_tons = mean(catch, na.rm = TRUE))
class(asfis_species_name)
class("asfis_species_name")
fisheries_tidy %>%
group_by(asfis_species_name) %>%
summarize(mean_catch_tons = mean(catch, na.rm = TRUE))
fisheries_tidy %>%
group_by(asfis_species_name) %>%
summarize(mean_catch_tons = mean(catch, na.rm = TRUE)) %>%
arrange(desc(catch)) %>%
slice(1)
fisheries_tidy %>%
group_by(asfis_species_name) %>%
summarize(mean_catch_tons = mean(catch, na.rm = TRUE)) %>%
arrange(desc(mean_catch_tons))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
elephants <-  readr::read_csv(file = "data/ElephantsMF.csv")
elephants %>%
mutate_all(tolower) # all to lower case
elephant <- elephants %>%
mutate(as.factor(sex)))
elephant <- elephants %>%
mutate(as.factor(sex))
elephant <- elephants %>%
mutate(as.factor("sex"))
grepl(elephant$Sex)
table(elephant$Sex)
is.factor(elephant$Sex)
elephant <- elephants %>%
mutate(as.factor("sex"))
is.factor(elephant$Sex)
elephants$sex <- as.factor(elephants$sex)
elephants$Sex <- as.factor(elephants$Sex)
is.factor(elephant$Sex)
is.factor(elephant$Sex)
elephants <- janitor::clean_names(elephants)
elephants$sex <- as.factor(elephants$sex)
is.factor(elephant$sex)
names(elephants)
is.factor(elephants$sex)
elephants %>%
mean(age)
elephants %>%
mean(age, ra.na = T)
elephants %>%
mean(age, na.rm=T)
mean(mean, age, na.rm=T)
elephants %>%
summarize(mean_age=mean(age))
elephants %>%
group_by(sex) %>%
summarize(n=n(), .groups= 'keep')
```{r}
View(elephants)
if (mean(elephants$hight) > mean(elephants$age)) {
cat("The mean of 'hight' is bigger.\n")
} else if (mean(elephants$age) > mean(elephants$hight)) {
cat("The mean of 'age' is bigger.\n")
} else {
cat("The means are equal.\n")
}
if (mean(elephants$height) > mean(elephants$age)) {
cat("The mean of 'height' is bigger.\n")
} else if (mean(elephants$age) > mean(elephants$height)) {
cat("The mean of 'age' is bigger.\n")
} else {
cat("The means are equal.\n")
}
if (mean(elephants$height, na.rm = TRUE) > mean(elephants$age, na.rm = TRUE)) {
cat("The mean of 'height' is bigger.\n")
} else if (mean(elephants$age, na.rm = TRUE) > mean(elephants$height, na.rm = TRUE)) {
cat("The mean of 'age' is bigger.\n")
} else {
cat("The means are equal.\n")
}
if (mean(elephants$height, na.rm = TRUE) > mean(elephants$age, na.rm = TRUE)) {
cat("The mean of 'height' is bigger.\n")
} else if (mean(elephants$age, na.rm = TRUE) > mean(elephants$height, na.rm = TRUE)) {
cat("The mean of 'age' is bigger.\n")
} else {
cat("The means are equal.\n")
}
elephants %>%
group_by(sex) %>%
summarise(mean_age=mean(age),
mean_height=mean(height))
elephants %>%
filter(age > 20) %>%
group_by(sex) %>%
summarise(mean_age=mean(height),
max_height=max(height)
min_hieght=min(height))
elephants %>%
filter(age > 20) %>%
group_by(sex) %>%
summarise(mean_age=mean(height),
max_height=max(height),
min_height=min(height))
elephants %>%
filter(age > 20) %>%
group_by(sex) %>%
summarise(mean_age=mean(height),
max_height=max(height),
min_height=min(height),
n_elephants=n())
vertebrate <-  readr::read_csv(file = "data/IvindoData_DryadVersion.csv")
glimpse(vertebrate)
vertebrate$HuntCat <- as.factor(vertebrate$HuntCat)
vertebrate$(HuntCat, LandUse) <- as.factor(vertebrate$(HuntCat,LandUse))
vertebrate %>%
mutate_if(is.character, factor())
vertebrate %>%
mutate_if(is.character, factor)
View(vertebrate)
vertebrate %>%
group_by(HuntCat) %>%
summarise(mean_bird_diversity=mean(Diversity_BirdSpecies),
mean_mammal_diversity=mean(Diversity_MammalSpecies),
nsamples=n())
vertebrate %>%
filter(Distance < 3) %>%
summarise(across(contains("RA_"), mean))
vertebrate %>%
filter(Distance > 25) %>%
summarise(across(contains("RA_"), mean))
names(vertebrate)
vertebrate %>%
group_by(LandUse) %>%
summarise(across(contains("Rich_"), mean)) %>%
summarise(across(contains("Veg_"), mean)) %>%
mutate(veg_rich_comparison = across(contains("Veg_"), mean) / across(contains("Rich_"), mean))
vertebrate %>%
group_by(LandUse) %>%
summarise(across(contains("Rich_"), mean)) %>%
summarise(across(contains("Veg_"), mean)) %>%
mutate(veg_rich_comparison = mean(across(contains("Veg_")), na.rm = TRUE) / mean(across(contains("Rich_")), na.rm = TRUE))
vertebrate %>%
group_by(LandUse) %>%
summarise(across(contains("Rich_"), mean),
across(contains("Veg_"), mean)) %>%
mutate(veg_rich_comparison = mean(across(contains("Veg_")), na.rm = TRUE) /
mean(across(contains("Rich_")), na.rm = TRUE))
vertebrate %>%
group_by(LandUse) %>%
summarise(across(contains("Rich_"), mean),
across(contains("Veg_"), mean)) %>%
select()
vertebrate %>%
group_by(LandUse) %>%
summarise(across(contains("Rich_"), mean),
across(contains("Veg_"), mean))
